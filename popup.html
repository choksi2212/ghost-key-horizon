<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ghost Key Universal</title>
  <link rel="stylesheet" href="styles/popup.css">
</head>
<body>
  <div class="popup-container">
    <!-- Header -->
    <div class="popup-header">
      <div class="logo">
        <span class="logo-icon">👻</span>
        <h1 class="logo-text">Ghost Key Universal</h1>
      </div>
      <div class="status-indicator" id="status-indicator">
        <span class="status-dot"></span>
        <span class="status-text">Loading...</span>
      </div>
    </div>

    <!-- Current Site Section -->
    <div class="section">
      <div class="section-header">
        <h3>Current Site</h3>
        <div class="site-toggle">
          <label class="toggle-switch">
            <input type="checkbox" id="site-enabled" />
            <span class="toggle-slider"></span>
          </label>
        </div>
      </div>
      <div class="site-info">
        <div class="site-url" id="current-site">Loading...</div>
        <div class="site-stats" id="site-stats">
          <span class="stat-item">
            <span class="stat-icon">🔑</span>
            <span class="stat-value" id="user-count">0</span>
            <span class="stat-label">users</span>
          </span>
        </div>
      </div>
    </div>

    <!-- Quick Actions -->
    <div class="section">
      <h3>Quick Actions</h3>
      <div class="action-buttons">
        <button class="action-btn" id="enroll-btn">
          <span class="btn-icon">🆔</span>
          <span class="btn-text">Enroll New User</span>
        </button>
        <button class="action-btn" id="clear-site-btn">
          <span class="btn-icon">🧹</span>
          <span class="btn-text">Clear Site Data</span>
        </button>
      </div>
    </div>

    <!-- Security Status -->
    <div class="section">
      <h3>Security Status</h3>
      <div class="security-features">
        <div class="feature-item">
          <span class="feature-icon">⌨️</span>
          <div class="feature-info">
            <div class="feature-name">Keystroke Dynamics</div>
            <div class="feature-status" id="keystroke-status">Active</div>
          </div>
          <div class="feature-toggle">
            <label class="toggle-switch small">
              <input type="checkbox" id="keystroke-enabled" checked />
              <span class="toggle-slider"></span>
            </label>
          </div>
        </div>
        
        <div class="feature-item">
          <span class="feature-icon">🎤</span>
          <div class="feature-info">
            <div class="feature-name">Voice Biometrics</div>
            <div class="feature-status" id="voice-status">Active</div>
          </div>
          <div class="feature-toggle">
            <label class="toggle-switch small">
              <input type="checkbox" id="voice-enabled" checked />
              <span class="toggle-slider"></span>
            </label>
          </div>
        </div>
      </div>
    </div>

    <!-- Enrolled Users (when applicable) -->
    <div class="section" id="users-section" style="display: none;">
      <h3>Enrolled Users</h3>
      <div class="users-list" id="users-list">
        <!-- User entries will be populated dynamically -->
      </div>
    </div>

    <!-- Footer -->
    <div class="popup-footer">
      <button class="footer-btn" id="settings-btn">
        <span class="btn-icon">⚙️</span>
        Settings
      </button>
      <button class="footer-btn" id="stats-btn">
        <span class="btn-icon">📊</span>
        Statistics
      </button>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loading-overlay" style="display: none;">
      <div class="loading-spinner"></div>
      <div class="loading-text">Processing...</div>
    </div>
  </div>

  <!-- Modal for confirmations -->
  <div class="modal-overlay" id="modal-overlay" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="modal-title">Confirm Action</h3>
        <button class="modal-close" id="modal-close">&times;</button>
      </div>
      <div class="modal-body">
        <p id="modal-message">Are you sure?</p>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" id="modal-cancel">Cancel</button>
        <button class="btn btn-danger" id="modal-confirm">Confirm</button>
      </div>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html> 